(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[532],{9314:function(e,t,a){Promise.resolve().then(a.bind(a,3778))},3778:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var n=a(7437),r=a(2265),i=a(2979),s=a(8900),c=a(6560),l=a(1485),o=a(9860),d=a(6691),u=a.n(d),h=a(1396),g=a.n(h),m=a(3844);a(2495);var x=e=>{let{kegiatan_id:t,showKegiatan:a}=e,[i,d]=(0,r.useState)([]),[h,x]=r.useState(-1),[f,p]=(0,r.useState)(12),[v,j]=(0,r.useState)(1),b=async()=>{try{let e=await (0,c.h)({page:v,limit:f,kegiatan_id:t});d(e)}catch(e){console.error("Failed to fetch data:",e)}};(0,r.useEffect)(()=>(b(),()=>{}),[v]);let w=[];return null==i||i.forEach(e=>{let t=null==e?void 0:e.gambar,a=t?"".concat(l._n,"/").concat(t):"/images/no-image.png";w.push({src:a,width:3840,height:2560})}),(0,n.jsx)("section",{children:(0,n.jsxs)("div",{className:"max-w-screen-xl",children:[(0,n.jsx)("header",{children:(0,n.jsxs)("h2",{className:"text-lg font-bold text-gray-900 sm:text-xl",children:["Kegiatan ",null==a?void 0:a.nama," ",null==a?void 0:a.tahun]})}),(0,n.jsx)(m.ZP,{index:h,slides:w,open:h>=0,close:()=>x(-1)}),(0,n.jsx)("ul",{className:"mt-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:i&&(null==i?void 0:i.map((e,t)=>{let a=null==e?void 0:e.gambar,r=a?"".concat(l._n,"/").concat(a):"/images/no-image.png";return(0,n.jsx)("li",{className:"mb-2 cursor-pointer",children:(0,n.jsx)(o.default,{children:(0,n.jsxs)("div",{className:"group block overflow-hidden",children:[(0,n.jsx)(u(),{src:r,width:350,height:350,className:"h-[250px] w-full object-cover transition duration-500 group-hover:scale-105 sm:h-[300px] cursor-pointer",alt:"",onClick:()=>x(t)}),(0,n.jsxs)("div",{className:"relative bg-white pt-3",children:[(0,n.jsx)("h3",{className:"text-sm text-gray-700 ",children:e.tahun}),(0,n.jsx)("p",{className:"mt-1",children:(0,n.jsx)(g(),{href:"/gambarKegiatan?kegiatan_id=".concat(e.id),children:(0,n.jsx)("span",{className:"text-gray-900 hover:underline line-clamp-1",title:null==e?void 0:e.nama,children:e.nama})})})]})]})})},e.id)}))}),(null==i?void 0:i.last_page)>1&&(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(s.Z,{currentPage:null==i?void 0:i.current_page,totalPages:null==i?void 0:i.last_page,setPage:j})})]})})},f=a(4033),p=a(4660),v=a(4810);let j=(0,p.Ue)((0,v.mW)((e,t)=>({dtKegiatan:[],showKegiatan:[],setKegiatan:async t=>{let{page:a=1,limit:n=10,search:r}=t;try{let t=await (0,l.hi)({method:"get",url:"/kegiatan",params:{limit:n,page:a,search:r}});return e(e=>({...e,dtKegiatan:t.data})),{status:"berhasil",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},setShowKegiatan:async t=>{try{let a=await (0,l.hi)({method:"get",url:"/kegiatan/".concat(t)});return e(e=>({...e,showKegiatan:a.data})),{status:"berhasil",data:a.data}}catch(e){return{status:"error",error:e.response.data}}}})));var b=e=>{let t=(0,f.useSearchParams)(),a=parseInt(t.get("kegiatan_id")||"0"),{setShowKegiatan:s,showKegiatan:c}=j();return(0,r.useEffect)(()=>(s(a),()=>{}),[a,s]),console.log({showKegiatan:c}),(0,n.jsx)(i.E.div,{className:"pb-5",children:(0,n.jsx)(x,{kegiatan_id:a,showKegiatan:null==c?void 0:c.data})})}},8900:function(e,t,a){"use strict";var n=a(7437);a(2265);var r=a(4606);t.Z=e=>{let{totalPages:t,currentPage:a,setPage:i}=e,s=[];if(t<=5)s=Array.from({length:t},(e,t)=>t+1);else{s=[1,a-1,a,a+1,t],s=(s=Array.from(new Set(s)).sort((e,t)=>e-t)).filter(e=>e>0&&e<=t);for(let e=1;e<s.length-1;e++)s[e]-s[e-1]>1&&(s.splice(e,0,"..."),e++);t-s[s.length-2]>1&&s.splice(s.length-1,0,"...")}return(0,n.jsx)("div",{className:"h-full",children:(0,n.jsxs)("ol",{className:"flex justify-center gap-1 text-xs font-medium",children:[a>1&&(0,n.jsx)("li",{children:(0,n.jsx)("div",{onClick:()=>i(a-1),className:"cursor-pointer inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100",children:(0,n.jsx)(r.pjk,{})})}),s.map((e,t)=>"..."===e?(0,n.jsx)("li",{className:"flex items-end text-xl",children:(0,n.jsx)("div",{className:"block h-8 w-8 rounded border border-gray-100 text-center leading-8",children:e})},t):(0,n.jsx)("li",{children:(0,n.jsx)("div",{onClick:()=>i(e),className:"cursor-pointer block h-8 w-8 rounded border border-gray-100 text-center leading-8 ".concat(e==a?"bg-primary text-white":""),children:e})},t)),a<t&&(0,n.jsx)("li",{children:(0,n.jsx)("div",{onClick:()=>i(a+1),className:"cursor-pointer inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100",children:(0,n.jsx)(r.fmn,{})})})]})})}},6560:function(e,t,a){"use strict";a.d(t,{Z:function(){return r},h:function(){return i}});var n=a(1485);async function r(e){let{page:t,limit:a,sortBy:r,search:i}=e,s=r.split(","),c=await fetch("".concat(n._n,"/api/kegiatan?page=").concat(t,"&limit=").concat(a,"&sortBy=").concat(s[0],"&order=").concat(s[1],"&search=").concat(i),{next:{revalidate:1e3}});if(!c.ok)throw Error("Failed to fetch data");let{data:l}=await c.json();return l}async function i(e){let{page:t,limit:a,kegiatan_id:r}=e,i=await fetch("".concat(n._n,"/api/kegiatan/gambar-kegiatan?page=").concat(t,"&limit=").concat(a,"&kegiatan_id=").concat(r),{next:{revalidate:1e3}});if(!i.ok)throw Error("Failed to fetch data");let{data:s}=await i.json();return s}},1485:function(e,t,a){"use strict";a.d(t,{I8:function(){return i},Sj:function(){return s},_n:function(){return r},hi:function(){return c}});var n=a(9222);let r="https://admin.holtekamp.com",i=n.Z.create({baseURL:"".concat(r,"/auth")}),s=n.Z.create({baseURL:"".concat(r,"/crud")}),c=n.Z.create({baseURL:"".concat(r,"/api")});n.Z.create({baseURL:"".concat(r,"/storage")})},9860:function(e,t,a){"use strict";a.r(t);var n=a(7437),r=a(7712),i=a(6165),s=a(2979),c=a(2265);t.default=e=>{let{children:t,once:a=!1}=e,l=(0,r._)(),o=(0,r._)(),d=(0,c.useRef)(null),u=(0,i.Y)(d,{once:a});return(0,c.useEffect)(()=>{u?(o.start("visible"),l.start("visible")):(o.start("hidden"),l.start("hidden"))},[u,l,o]),(0,n.jsx)("div",{ref:d,children:(0,n.jsx)(s.E.div,{variants:{hidden:{opacity:0,y:75},visible:{opacity:1,y:0}},initial:"hidden",animate:l,transition:{duration:.5,delay:.25},children:t})})}}},function(e){e.O(0,[447,954,222,979,628,360,184,971,596,560],function(){return e(e.s=9314)}),_N_E=e.O()}]);